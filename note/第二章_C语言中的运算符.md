# 第二章 C语言中的运算符

## 算术运算符

假设变量 A 的值为 10，变量 B 的值为 20，则：

| 运算符 | 描述 | 示例 |
| :----: | :---- | :---- |
| + | 把两个操作数相加 | A + B 将得到 30 |
| - | 从第一个操作数中减去第二个操作数 | A - B 将得到 -10 |
| * | 把两个操作数相乘 | A * B 将得到 200 |
| / | 分子除以分母 | B / A 将得到 2 |
| % | 取模运算符，整除后的余数 | B % A 将得到 0 |
| ++ | 自增运算符，整数值增加 1 | A++ 将得到 11 |
| -- | 自减运算符，整数值减少 1 | A-- 将得到 9 |

### `++a`和`a++`的区别

`a`在左侧则先返回值：

- `++a`先运算再返回值
- `a++`先返回值再运算

若`a` = 1，则：
- `++a` = 2
- `a++` = 1

案例：

```C
#include<stdio.h>//头文件引用
int main() {//主函数
	//变量定义的过程
	int a = 2;//先赋值再运算
	printf("%d", a++);
	printf("%d", a++);
	printf("%d", ++a);
	printf("%d", a+1);
	printf("%d", a );
	printf("%d", a--);
	a - 1;
	printf("%d", a);
	printf("%d", a++);
	return 0;
}
```

输出为：

```text
2
3
5
6
5
5
4
4
```

## 关系运算符

假设变量 A 的值为 10，变量 B 的值为 20，则：

| 运算符 | 描述 | 示例 |
| :----: | :---- | :---- |
| == | 检查两个操作数的值是否相等，如果相等则条件为真 | (A == B) 为假 |
| != | 检查两个操作数的值是否相等，如果不相等则条件为真 | (A != B) 为真 |
| > | 检查左操作数的值是否大于右操作数的值，如果是则条件为真 | (A > B) 为假 |
| < | 检查左操作数的值是否小于右操作数的值，如果是则条件为真 | (A < B) 为真 |
| >= | 检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真 | (A >= B) 为假 |
| <= | 检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真 | (A <= B) 为真 |

## 逻辑运算符

假设变量 A 的值为 1，变量 B 的值为 0，则：

| 运算符 | 描述 | 示例 |
| :----: | :---- | :---- |
| && | 称为逻辑与运算符。 如果两个操作数都非零，则条件为真 | (A && B) 为假 |
| \|\| | 称为逻辑或运算符。 如果两个操作数中有任意一个非零，则条件为真 | (A \|\| B) 为真 |
| ! | 称为逻辑非运算符。 用来逆转操作数的逻辑状态。 如果条件为真则逻辑非运算符将使其为假 | ! (A && B) 为真 |

## 位运算符

| 运算符 | 描述 | 示例 |
| :----: | :---- | :---- |
| & | 按位与 | `a & b` |
| \| | 按位或 | `a \| b` |
| ^ | 按位异或 | `a ^ b` |
| ~ | 按位取反 | `~a` |
| << | 左移 | `a << 2` |
| >> | 右移 | `a >> 2` |

以下是对这些运算符的一些详细解释：

- `&`（按位与）：只有对应的两个二进制位均为1时，结果位才为1，否则为0。例如，`9 & 5`的结果为1。按位与运算通常用来对某些位清0或保留某些位。
- `\|`（按位或）：只要对应的两个二进制位有一个为1时，结果位就为1，否则为0。例如，`9 \| 5`的结果为13。按位或运算可以用来将某些位置1，或者保留某些位。
- `^`（按位异或）：如果两个操作数的某对应位不一样，则按位异或结果的对应位为1，相同则为0。例如，`9 ^ 5`的结果为12。
- `~`（按位取反）：对一个二进制操作数，对应位为0，结果位为1；对应位为1，结果位为0。例如，`~5`的结果为-6。
- `<<`（左移）：将一个数的各二进制位全部左移若干位，右边空出的位用0填补，高位左移溢出的位被舍弃。例如，`15 << 1`的结果为30。
- `>>`（右移）：将一个数的各二进制位全部右移若干位，正数左边空出的位用0填补，负数左边空出的位用1填补，低位右移溢出的位被舍弃。例如，`15 >> 1`的结果为7。

## 运算符的优先级

| 优先级 | 运算符 | 描述 |
| :----: | :---- | :---- |
| 1 | `()` `[]` `->` `.` | 圆括号、方括号、箭头运算符、点运算符 |
| 2 | `++` `--` | 后置自增和自减 |
| 3 | `++` `--` `+` `-` `!` `~` `*` `&` `(type)` `sizeof` | 前置自增和自减、一元加、一元减、逻辑非、按位取反、解引用、取地址、强制类型转换、求大小 |
| 4 | `*` `/` `%` | 乘法、除法和取模 |
| 5 | `+` `-` | 加法和减法 |
| 6 | `<<` `>>` | 左移和右移 |
| 7 | `<` `<=` `>` `>=` | 小于、小于等于、大于、大于等于 |
| 8 | `==` `!=` | 等于和不等于 |
| 9 | `&` | 按位与 |
| 10 | `^` | 按位异或 |
| 11 | `\|` | 按位或 |
| 12 | `&&` | 逻辑与 |
| 13 | `\|\|` | 逻辑或 |
| 14 | `?:` | 条件运算符 |
| 15 | `=` `+=` `-=` `*=` `/=` `%=` `&=` `^=` `\|=` `<<=` `>>=` | 赋值运算符 |
| 16 | `,` | 逗号运算符 |

### 逗号运算符、箭头运算符和点运算符

| 运算符 | 含义 | 作用 |
| :----: | :---- | :---- |
| , | 逗号运算符 | 逗号运算符是C语言运算符中优先级最低的一种运算符，结合顺序是从左至右，用来顺序求值（最后一个逗号后面表达式的值作为整个表达式的值）。例如，`int a=3, b=5, c; c = a>b, a+b;` 运行后c值为0，因为逗号运算符的优先级低于赋值运算符，所以先将a>b的结果 (为0)赋值给c，之后运算a+b（结果不保存），所以c=0。 |
| -> | 箭头运算符 | 箭头运算符的左操作数必须是一个指针，它指向一个结构或联合类型。右操作数是该结构或联合成员的名字。例如，`struct Article * pArticle = & sw; ++ ( pArticle -> number );` 增加编号。箭头运算符的结果总是一个左值。 |
| . | 点运算符 | 点运算符的左操作数必须是一个结构或者一个联合，而右操作数必须是该类型（结构或联合）成员的名字。例如，`struct Article sw = { 102030L, "Heroes", 5995L }; sw. price = 4995L;` 将价格改为49.95。点运算结果的类型，与所选择成员的类型是一样的。 |

**表达式`p->m` 等效于`（*p）.m`**

## 习题

### 习题006 两个整数相加

#### [问题描述]

输入两个整数，输出这两个整数的和。

#### [输入描述]

输入两个整数

#### [输出描述]

输出这两个整数的和

#### [输入样例1]

```text
10 20
```

#### [输出样例1]

```text
30
```

#### 代码实现

```C
#include<stdio.h> 

int main()
{
	int a, b;
	scanf("%d%d", &a, &b);
	printf("%d", a + b);
	return 0;
}
```

### 习题010 数值比较

注意：要求不能使用 if, <, >, ?:运算符

#### [问题描述]

输入两个整数，输出较大的值。

#### [输入描述]

输入两个整数。

#### [输出描述]

输出较大的值。

#### [输入样例1]

```text

```

#### [输出样例1]

```text

```

#### 代码实现

```C
#include <stdio.h>
int  main() 
{
	int a, b;
	scanf("%d%d", &a, &b);
	//右移31位 将符号位移动到最后一位
	//&1 将符号位的值提取出来 作为0或1这种整形结果
	int c = ((a - b) >> 31) & 1;
	//运用1*任何数等于它本身 0*任何数等于0的特性
	//求得两数当中最大的值
	printf("%d", a - (a - b) * c);
	//注： 右移时需考虑原数据正负
	return 0;
}
```
